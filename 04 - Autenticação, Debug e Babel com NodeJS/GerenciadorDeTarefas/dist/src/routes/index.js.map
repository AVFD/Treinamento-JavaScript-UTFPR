{"version":3,"sources":["../../../src/routes/index.js"],"names":["debug","require","basename","module","filename","loadRoutes","app","readdirSync","__dirname","filter","file","indexOf","slice","forEach","routeFile","join","route","default","path","use","router"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA,IAAMA,QAAQC,QAAQ,OAAR,EAAiB,aAAjB,CAAd;;AAEA,IAAMC,WAAW,eAAKA,QAAL,CAAcC,OAAOC,QAArB,CAAjB;;AAEA;;;;AAIA,IAAMC,aAAa,SAAbA,UAAa,CAACC,GAAD;AAAA,WACf,aAAGC,WAAH,CAAeC,SAAf,EACKC,MADL,CACY,UAACC,IAAD,EAAU;AACd,eAAQA,KAAKC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IAA8BD,SAASR,QAAvC,IAAqDQ,KAAKE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAA/E;AACH,KAHL,EAIKC,OAJL,CAIa,UAACH,IAAD,EAAU;AACf,YAAMI,YAAY,eAAKC,IAAL,CAAUP,SAAV,EAAqBE,IAArB,CAAlB;AACA,YAAMM,QAAQf,QAAQa,SAAR,EAAmBG,OAAnB,IAA8BhB,QAAQa,SAAR,CAA5C;AACAd,cAAM,cAAcgB,MAAME,IAA1B;AACAZ,YAAIa,GAAJ,CAAQH,MAAME,IAAd,EAAoBF,MAAMI,MAA1B;AACH,KATL,CADe;AAAA,CAAnB;;kBAYef,U","file":"index.js","sourcesContent":["import fs from 'fs';\nimport path from 'path';\nimport { Application } from 'express';\nconst debug = require('debug')('http:routes');\n\nconst basename = path.basename(module.filename);\n\n/**\n * Faz a leutira automática de todos os arquivos de dentro do diretório 'routes'.\n * @param {Application} app \n */\nconst loadRoutes = (app) =>\n    fs.readdirSync(__dirname)\n        .filter((file) => {\n            return (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js');\n        })\n        .forEach((file) => {\n            const routeFile = path.join(__dirname, file);\n            const route = require(routeFile).default || require(routeFile);\n            debug(\"Loading: \" + route.path);\n            app.use(route.path, route.router);\n        });\n\nexport default loadRoutes;"]}